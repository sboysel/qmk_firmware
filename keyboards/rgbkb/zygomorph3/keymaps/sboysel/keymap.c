/*
 * ----------------------------------------------------------------------------
 * "THE BEER-WARE LICENSE" (Revision 42):
 * <https://github.com/Legonut> wrote this file.  As long as you retain this
 * notice you can do whatever you want with this stuff. If we meet some day, and
 * you think this stuff is worth it, you can buy me a beer in return. David Rauseo
 * ----------------------------------------------------------------------------
 */

#include QMK_KEYBOARD_H

// Each layer gets a name for readability, which is then used in the keymap matrix below.
// The underscores don't mean anything - you can have a layer called STUFF or any other name.
// Layer names don't all need to be of the same length, obviously, and you can also skip them
// entirely and just use numbers.
enum sol_layers {
  _QWERTY,
  _NAV,
  _FUN,
  _SYM,
  _NUM
};

enum zygo_keycodes {
  // Disables touch processing
  TCH_TOG = SAFE_RANGE,
  MENU_BTN,
  MENU_UP,
  MENU_DN,
  RGB_RST
};

#define CMD_A      CMD_T(KC_A)
#define ALT_S      ALT_T(KC_S)
#define CTL_D      CTL_T(KC_D)
#define SFT_F      SFT_T(KC_F)
#define NAV        LT(_NAV, KC_SPC)
#define FUN        LT(_FUN, KC_TAB)
#define SYM        LT(_SYM, KC_ENT)
#define NUM        LT(_NUM, KC_BSPC)

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
  /* QWERTY Layout
  ┌──────┬──────┬──────┬──────┬──────┬──────┐  ┌──────┬──────┬──────┬──────┬──────┬──────┐
  | GESC |  1   |  2   |  3   |  4   |  5   |  |  6   |  7   |  8   |  9   |  0   | BkSp |
  ├──────┼──────┼──────┼──────┼──────┼──────┤  ├──────┼──────┼──────┼──────┼──────┼──────┤
  | Tab  |   Q  |   W  |   E  |   R  |   T  |  |   Y  |   U  |   I  |   O  |   P  |   \  |
  ├──────┼──────┼──────┼──────┼──────┼──────┤  ├──────┼──────┼──────┼──────┼──────┼──────┤
  |FNCAPS|   A  |   S  |   D  |   F  |   G  |  |   H  |   J  |   K  |   L  |   ;  |   '  |
  ├──────┼──────┼──────┼──────┼──────┼──────┤  ├──────┼──────┼──────┼──────┼──────┼──────┤
  |Shift |   Z  |   X  |   C  |   V  |   B  |  |   N  |   M  |   ,  |   .  |   /  |Enter |
  ├──────┼──────┼──────┼──────┼──────┼──────┤  ├──────┼──────┼──────┼──────┼──────┼──────┤
  | Ctrl |  Win |  Alt |  RGB |ADJUST| Space|  | Space|  FN  | Left | Down | Up   |Right |
  └──────┴──────┴──────┴──────┴──────┴──────┘  └──────┴──────┴──────┴──────┴──────┴──────┘
  ┌──────┬──────┬──────┬──────┬──────┬──────┐  ┌──────┬──────┬──────┬──────┬──────┬──────┐
  │Vol Dn│Vol Up│Vol Dn│Vol Up│Vol Dn│Vol Up│  │Vol Dn│Vol Up│Vol Dn│Vol Up│Vol Dn│Vol Up│
  └──────┴──────┴──────┴──────┴──────┴──────┘  └──────┴──────┴──────┴──────┴──────┴──────┘
  ┌──────┬──────┬──────┬──────┬──────┐                ┌──────┬──────┬──────┬──────┬──────┐
  │Vol Dn│Vol Up│ Prev │ Play │ Next │                │Vol Dn│Vol Up│ Prev │ Play │ Next │
  └──────┴──────┴──────┴──────┴──────┘                └──────┴──────┴──────┴──────┴──────┘
  */
  [_QWERTY] = LAYOUT(
    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______,
    KC_Q,       KC_W,       KC_E,       KC_R,       KC_T,       _______,    _______,    KC_Y,       KC_U,       KC_I,       KC_O,       KC_P,
    CMD_A,      ALT_S,      CTL_D,      SFT_F,      KC_G,       _______,    _______,    KC_H,       KC_J,       KC_K,       KC_L,       KC_QUOT,
    KC_Z,       KC_X,       KC_C,       KC_V,       KC_B,       _______,    _______,    KC_N,       KC_M,       KC_COMM,    KC_DOT,     KC_SLSH,   
    _______,    _______,    _______,    KC_ESC,     NAV,        FUN,        SYM,        NUM,        KC_DEL,     _______,    _______,    _______,

    KC_VOLD,  KC_VOLU,  KC_VOLD,  KC_VOLU,  KC_VOLD,  KC_VOLU,  KC_VOLD,  KC_VOLU,  KC_VOLD,  KC_VOLU,  KC_VOLD,  KC_VOLU,
    KC_VOLU,  KC_VOLD,  KC_MNXT,  KC_MPLY,  KC_MPRV,                      KC_VOLU,  KC_VOLD,  KC_MNXT,  KC_MPLY,  KC_MPRV
  ), 

  /*  NAV Layout
  ┌──────┬──────┬──────┬──────┬──────┬──────┐  ┌──────┬──────┬──────┬──────┬──────┬──────┐
  |  F1  |  F2  |  F3  |  F4  |  F5  |  F6  |  |  F7  |  F8  |  F9  |  F10 |  F11 |  F12 |
  ├──────┼──────┼──────┼──────┼──────┼──────┤  ├──────┼──────┼──────┼──────┼──────┼──────┤
  |      | PGDN |  UP  | PGUP |      |      |  |      | PGDN |  UP  | PGUP | PRINT| HOME |
  ├──────┼──────┼──────┼──────┼──────┼──────┤  ├──────┼──────┼──────┼──────┼──────┼──────┤
  |      | LEFT | DOWN | RIGHT|      |      |  |      | LEFT | DOWN | RIGHT|INSERT| END  |
  ├──────┼──────┼──────┼──────┼──────┼──────┤  ├──────┼──────┼──────┼──────┼──────┼──────┤
  |      |      |      |      |      |      |  |      |      |      |      |      |      |
  ├──────┼──────┼──────┼──────┼──────┼──────┤  ├──────┼──────┼──────┼──────┼──────┼──────┤
  |      |      |      |RGBMOD|      |      |  |      | PLAY | NEXT | MUTE | VOL- | VOL+ |
  └──────┴──────┴──────┴──────┴──────┴──────┘  └──────┴──────┴──────┴──────┴──────┴──────┘
  ┌──────┬──────┬──────┬──────┬──────┬──────┐  ┌──────┬──────┬──────┬──────┬──────┬──────┐
  │      |      |      |      |      |      |  |      |      |      |      |      |      │
  └──────┴──────┴──────┴──────┴──────┴──────┘  └──────┴──────┴──────┴──────┴──────┴──────┘
  ┌──────┬──────┬──────┬──────┬──────┐                ┌──────┬──────┬──────┬──────┬──────┐
  │      |      |      |      |      |                |      |      |      |      |      │
  └──────┴──────┴──────┴──────┴──────┘                └──────┴──────┴──────┴──────┴──────┘
  */
  [_NAV] = LAYOUT(
    _______,    _______,    _______,    _______,    RGB_TOG,    RGB_MOD,    QK_BOOT,    _______,    _______,    _______,    _______,    _______,
    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______,
    KC_LCMD,    KC_LALT,    KC_LCTL,    KC_LSFT,    _______,    _______,    _______,    _______,    KC_LEFT,    KC_DOWN,    KC_UP,      KC_RIGHT,
    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______,    KC_HOME,    KC_PGDN,    KC_PGUP,    KC_END,
    _______,    _______,    _______,    _______,    KC_SPC,     KC_TAB,     KC_ENT,     KC_BSPC,    KC_DEL,     _______,    _______,    _______,

    _______,  _______,  _______,  _______,  _______,  _______,  _______,  _______,  _______,  _______,  _______,  _______,
    _______,  _______,  _______,  _______,  _______,                      _______,  _______,  _______,  _______,  _______
  ),

    /*  FUN Layout
  ┌──────┬──────┬──────┬──────┬──────┬──────┐  ┌──────┬──────┬──────┬──────┬──────┬──────┐
  |  F1  |  F2  |  F3  |  F4  |  F5  |  F6  |  |  F7  |  F8  |  F9  |  F10 |  F11 |  F12 |
  ├──────┼──────┼──────┼──────┼──────┼──────┤  ├──────┼──────┼──────┼──────┼──────┼──────┤
  |      | PGDN |  UP  | PGUP |      |      |  |      | PGDN |  UP  | PGUP | PRINT| HOME |
  ├──────┼──────┼──────┼──────┼──────┼──────┤  ├──────┼──────┼──────┼──────┼──────┼──────┤
  |      | LEFT | DOWN | RIGHT|      |      |  |      | LEFT | DOWN | RIGHT|INSERT| END  |
  ├──────┼──────┼──────┼──────┼──────┼──────┤  ├──────┼──────┼──────┼──────┼──────┼──────┤
  |      |      |      |      |      |      |  |      |      |      |      |      |      |
  ├──────┼──────┼──────┼──────┼──────┼──────┤  ├──────┼──────┼──────┼──────┼──────┼──────┤
  |      |      |      |RGBMOD|      |      |  |      | PLAY | NEXT | MUTE | VOL- | VOL+ |
  └──────┴──────┴──────┴──────┴──────┴──────┘  └──────┴──────┴──────┴──────┴──────┴──────┘
  ┌──────┬──────┬──────┬──────┬──────┬──────┐  ┌──────┬──────┬──────┬──────┬──────┬──────┐
  │      |      |      |      |      |      |  |      |      |      |      |      |      │
  └──────┴──────┴──────┴──────┴──────┴──────┘  └──────┴──────┴──────┴──────┴──────┴──────┘
  ┌──────┬──────┬──────┬──────┬──────┐                ┌──────┬──────┬──────┬──────┬──────┐
  │      |      |      |      |      |                |      |      |      |      |      │
  └──────┴──────┴──────┴──────┴──────┘                └──────┴──────┴──────┴──────┴──────┘
  */
  [_FUN] = LAYOUT(
    _______,    _______,    _______,    _______,    _______,    _______,    KC_F1,      KC_F2,      KC_F3,      KC_F4,      KC_F5,      KC_F6,
    _______,    _______,    _______,    _______,    _______,    _______,    KC_F7,      KC_F8,      KC_F9,      KC_F10,     KC_F11,     KC_F12,
    KC_LCMD,    KC_LALT,    KC_LCTL,    KC_LSFT,    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______,
    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______, 
    _______,    _______,    _______,    KC_ESC,     KC_SPC,     _______,    KC_ENT,     KC_BSPC,    KC_DEL,     _______,    _______,    _______,

    _______,  _______,  _______,  _______,  _______,  _______,  _______,  _______,  _______,  _______,  _______,  _______,
    _______,  _______,  _______,  _______,  _______,                      _______,  _______,  _______,  _______,  _______
  ),

  /*  SYM Layout
  ┌──────┬──────┬──────┬──────┬──────┬──────┐  ┌──────┬──────┬──────┬──────┬──────┬──────┐
  |  F1  |  F2  |  F3  |  F4  |  F5  |  F6  |  |  F7  |  F8  |  F9  |  F10 |  F11 |  F12 |
  ├──────┼──────┼──────┼──────┼──────┼──────┤  ├──────┼──────┼──────┼──────┼──────┼──────┤
  |      | PGDN |  UP  | PGUP |      |      |  |      | PGDN |  UP  | PGUP | PRINT| HOME |
  ├──────┼──────┼──────┼──────┼──────┼──────┤  ├──────┼──────┼──────┼──────┼──────┼──────┤
  |      | LEFT | DOWN | RIGHT|      |      |  |      | LEFT | DOWN | RIGHT|INSERT| END  |
  ├──────┼──────┼──────┼──────┼──────┼──────┤  ├──────┼──────┼──────┼──────┼──────┼──────┤
  |      |      |      |      |      |      |  |      |      |      |      |      |      |
  ├──────┼──────┼──────┼──────┼──────┼──────┤  ├──────┼──────┼──────┼──────┼──────┼──────┤
  |      |      |      |RGBMOD|      |      |  |      | PLAY | NEXT | MUTE | VOL- | VOL+ |
  └──────┴──────┴──────┴──────┴──────┴──────┘  └──────┴──────┴──────┴──────┴──────┴──────┘
  ┌──────┬──────┬──────┬──────┬──────┬──────┐  ┌──────┬──────┬──────┬──────┬──────┬──────┐
  │      |      |      |      |      |      |  |      |      |      |      |      |      │
  └──────┴──────┴──────┴──────┴──────┴──────┘  └──────┴──────┴──────┴──────┴──────┴──────┘
  ┌──────┬──────┬──────┬──────┬──────┐                ┌──────┬──────┬──────┬──────┬──────┐
  │      |      |      |      |      |                |      |      |      |      |      │
  └──────┴──────┴──────┴──────┴──────┘                └──────┴──────┴──────┴──────┴──────┘
  */
  [_SYM] = LAYOUT(
    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______,
    KC_LCBR,    KC_AMPR,    KC_ASTR,    KC_LPRN,    KC_RCBR,    _______,    _______,    _______,    _______,    _______,    _______,    _______,
    KC_COLN,     KC_DLR,    KC_PERC,    KC_CIRC,    KC_PLUS,    _______,    _______,    _______,    KC_LSFT,   KC_LCTRL,    KC_LALT,    KC_LGUI,
    KC_TILD,    KC_EXLM,    KC_AT,      KC_HASH,    KC_PIPE,    _______,    _______,    _______,    _______,    _______,    _______,    _______,   
    _______,    _______,    _______,    KC_LPRN,    KC_RPRN,    KC_UNDS,    _______,    KC_BSPC,    KC_DEL,     _______,    _______,    _______,

    _______,  _______,  _______,  _______,  _______,  _______,  _______,  _______,  _______,  _______,  _______,  _______,
    _______,  _______,  _______,  _______,  _______,                      _______,  _______,  _______,  _______,  _______
  ),

  /*  NUM Layout
  ┌──────┬──────┬──────┬──────┬──────┬──────┐  ┌──────┬──────┬──────┬──────┬──────┬──────┐
  |  F1  |  F2  |  F3  |  F4  |  F5  |  F6  |  |  F7  |  F8  |  F9  |  F10 |  F11 |  F12 |
  ├──────┼──────┼──────┼──────┼──────┼──────┤  ├──────┼──────┼──────┼──────┼──────┼──────┤
  |      | PGDN |  UP  | PGUP |      |      |  |      | PGDN |  UP  | PGUP | PRINT| HOME |
  ├──────┼──────┼──────┼──────┼──────┼──────┤  ├──────┼──────┼──────┼──────┼──────┼──────┤
  |      | LEFT | DOWN | RIGHT|      |      |  |      | LEFT | DOWN | RIGHT|INSERT| END  |
  ├──────┼──────┼──────┼──────┼──────┼──────┤  ├──────┼──────┼──────┼──────┼──────┼──────┤
  |      |      |      |      |      |      |  |      |      |      |      |      |      |
  ├──────┼──────┼──────┼──────┼──────┼──────┤  ├──────┼──────┼──────┼──────┼──────┼──────┤
  |      |      |      |RGBMOD|      |      |  |      | PLAY | NEXT | MUTE | VOL- | VOL+ |
  └──────┴──────┴──────┴──────┴──────┴──────┘  └──────┴──────┴──────┴──────┴──────┴──────┘
  ┌──────┬──────┬──────┬──────┬──────┬──────┐  ┌──────┬──────┬──────┬──────┬──────┬──────┐
  │      |      |      |      |      |      |  |      |      |      |      |      |      │
  └──────┴──────┴──────┴──────┴──────┴──────┘  └──────┴──────┴──────┴──────┴──────┴──────┘
  ┌──────┬──────┬──────┬──────┬──────┐                ┌──────┬──────┬──────┬──────┬──────┐
  │      |      |      |      |      |                |      |      |      |      |      │
  └──────┴──────┴──────┴──────┴──────┘                └──────┴──────┴──────┴──────┴──────┘
  */
  [_NUM] = LAYOUT(
    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______,    _______,
    KC_LBRC,    KC_7,       KC_8,       KC_9,       KC_RBRC,    _______,    _______,    _______,    _______,    _______,    _______,    _______,
    KC_SCLN,    KC_4,       KC_5,       KC_6,       KC_EQL,     _______,    _______,    _______,    KC_LSFT,   KC_LCTRL,    KC_LALT,    KC_LGUI,
    KC_GRV,     KC_1,       KC_2,       KC_3,       KC_BSLS,    _______,    _______,    _______,    _______,    _______,    _______,    _______,   
    _______,    _______,    _______,    KC_DOT,     KC_0,       KC_MINUS,    KC_ENT,    _______,    KC_DEL,     _______,    _______,    _______,

    _______,  _______,  _______,  _______,  _______,  _______,  _______,  _______,  _______,  _______,  _______,  _______,
    _______,  _______,  _______,  _______,  _______,                      _______,  _______,  _______,  _______,  _______
  )
};

bool process_record_user(uint16_t keycode, keyrecord_t *record) {
    switch (keycode)
    {
        case MENU_BTN:
            if (record->event.pressed) {
                rgb_menu_selection();
            }
            return false;
        case MENU_UP:
            if (record->event.pressed) {
                rgb_menu_action(true);
            }
            return false;
        case MENU_DN:
            if (record->event.pressed) {
                rgb_menu_action(false);
            }
            return false;
        case RGB_RST:
            if (record->event.pressed) {
                eeconfig_update_rgb_matrix_default();
            }
            return false;
        case TCH_TOG:
            if (record->event.pressed) {
                touch_encoder_toggle();
            }
            return false;  // Skip all further processing of this key
        default:
            return true;
    }
}

// void render_layer_status(void) {
//     // Host Keyboard Layer Status
//     oled_write_P(PSTR("Layer"), false);
//     switch (get_highest_layer(layer_state)) {
//         case _QWERTY:
//             oled_write_ln_P(PSTR("QWRTY"), false);
//             break;
//         case _COLEMAK:
//             oled_write_ln_P(PSTR("Colemk"), false);
//             break;
//         case _FN:
//             oled_write_ln_P(PSTR("FN   "), false);
//             break;
//         case _ADJUST:
//             oled_write_ln_P(PSTR("Adjst"), false);
//             break;
//         default:
//             oled_write_ln_P(PSTR("Undef"), false);
//     }
// }